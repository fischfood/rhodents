<?php
$wheel_data = [
    ["2023-11-11", 4529, 14209 ],
    ["2023-11-12", 3378, 9203 ],
    ["2023-11-13", 5180, 6289 ],
    ["2023-11-14", 5226, 8147 ],
    ["2023-11-15", 2319, 6914 ],
    ["2023-11-16", 4962, 6512 ],
    ["2023-11-17", 8139, 4710 ],
    ["2023-11-18", 6127, 5150 ],
    ["2023-11-19", 10069, 7875 ],
    ["2023-11-20", 2396, 4346 ],
    ["2023-11-21", 4295, 4863 ],
    ["2023-11-22", 4355, 4153 ],
    ["2023-11-23", 3925, 4611 ],
    ["2023-11-24", 3926, 4637 ],
    ["2023-11-25", 4260, 4731 ],
    ["2023-11-26", 4642, 6657 ],
    ["2023-11-27", 2345, 5716 ],
    ["2023-11-28", 2960, 8244 ],
    ["2023-11-29", 3737, 6872 ],
    ["2023-11-30", 3222, 8291 ],
    ["2023-12-01", 5140, 6435 ],
    ["2023-12-02", 7145, 4910 ],
    ["2023-12-03", 5056, 7862 ],
    ["2023-12-04", 5110, 8069 ],
    ["2023-12-05", 4685, 8375 ],
    ["2023-12-06", 4800, 7696 ],
    ["2023-12-07", 4476, 3772 ],
    ["2023-12-08", 3064, 4700 ],
    ["2023-12-09", 5141, 7089 ],
    ["2023-12-10", 6619, 7189 ],
    ["2023-12-11", 9014, 14388 ],
    ["2023-12-12", 12139, 6560 ],
    ["2023-12-13", 15606, 5807 ],
    ["2023-12-14", 18117, 4941 ],
    ["2023-12-15", 14382, 7438 ],
    ["2023-12-16", 14056, 7512 ],
    ["2023-12-17", 15683, 10915 ],
    ["2023-12-18", 16668, 9694 ],
    ["2023-12-19", 13705, 7639 ],
    ["2023-12-20", 13327, 4542 ],
    ["2023-12-21", 13336, 4852 ],
    ["2023-12-22", 16448, 6439 ],
    ["2023-12-23", 20283, 4609 ],
    ["2023-12-24", 15286, 3746 ],
    ["2023-12-25", 12376, 5621 ],
    ["2023-12-26", 12629, 4174 ],
    ["2023-12-27", 13034, 4568 ],
    ["2023-12-28", 11874, 5547 ],
    ["2023-12-29", 6341, 6688 ],
    ["2023-12-30", 3823, 4552 ],
    ["2023-12-31", 6968, 6146 ],
    ["2024-01-01", 5248, 5823 ],
    ["2024-01-02", 7435, 9271 ],
    ["2024-01-03", 6907, 10514 ],
    ["2024-01-04", 6940, 12691 ],
    ["2024-01-05", 6723, 17383 ],
    ["2024-01-06", 8205, 14604 ],
    ["2024-01-07", 8102, 15300 ],
    ["2024-01-08", 7464, 15500 ],
    ["2024-01-09", 5259, 20485 ],
    ["2024-01-10", 6144, 11572 ],
    ["2024-01-11", 6720, 15270 ],
    ["2024-01-12", 8502, 19928 ],
    ["2024-01-13", 14555, 13844 ],
    ["2024-01-14", 9651, 19046 ],
    ["2024-01-15", 13736, 18204 ],
    ["2024-01-16", 11952, 16929 ],
    ["2024-01-17", 14088, 13125 ],
    ["2024-01-18", 11563, 14801 ],
    ["2024-01-19", 13483, 18014 ],
    ["2024-01-20", 10989, 13430 ],
    ["2024-01-21", 9732, 9845 ],
    ["2024-01-22", 11399, 12583 ],
    ["2024-01-23", 12886, 17666 ],
    ["2024-01-24", 15101, 15261 ],
    ["2024-01-25", 12940, 19263 ],
    ["2024-01-26", 11809, 20080 ],
    ["2024-01-27", 9694, 24204 ],
    ["2024-01-28", 12255, 21151 ],
    ["2024-01-29", 12680, 17410 ],
    ["2024-01-30", 12119, 21984 ],
    ["2024-01-31", 12157, 23596 ],
    ["2024-02-01", 11873, 27269 ],
    ["2024-02-02", 15142, 26439 ],
    ["2024-02-03", 15020, 19506 ],
    ["2024-02-04", 18691, 26416 ],
    ["2024-02-05", 14359, 19367 ],
    ["2024-02-06", 11063, 22311 ],
    ["2024-02-07", 15853, 22062 ],
    ["2024-02-08", 19234, 16138 ],
    ["2024-02-09", 18324, 25484 ],
    ["2024-02-10", 14716, 22944 ],
    ["2024-02-11", 7321, 23798 ],
    ["2024-02-12", 9090, 29375 ],
    ["2024-02-13", 10295, 26943 ],
    ["2024-02-14", 8174, 24552 ],
    ["2024-02-15", 9024, 22246 ],
    ["2024-02-16", 12680, 30066 ],
    ["2024-02-17", 15004, 30962 ],
    ["2024-02-18", 16900, 20925 ],
    ["2024-02-19", 15354, 20663 ],
    ["2024-02-20", 13448, 20113 ],
    ["2024-02-21", 14946, 21220 ],
    ["2024-02-22", 19231, 23525 ],
    ["2024-02-23", 20075, 16866 ],
    ["2024-02-24", 19726, 14544 ],
    ["2024-02-25", 18154, 9451 ],
    ["2024-02-26", 19819, 18512 ],
    ["2024-02-27", 21443, 22402 ],
    ["2024-02-28", 23194, 22520 ],
    ["2024-02-29", 22671, 16477 ],
    ["2024-03-01", 19171, 13205 ],
    ["2024-03-02", 23200, 21742 ],
    ["2024-03-03", 23344, 18529 ],
    ["2024-03-04", 24132, 16785 ],
    ["2024-03-05", 24207, 25452 ],
    ["2024-03-06", 25239, 20938 ],
    ["2024-03-07", 19332, 19329 ],
    ["2024-03-08", 18719, 17297 ],
    ["2024-03-09", 25777, 16569 ],
    ["2024-03-10", 21519, 11156 ],
    ["2024-03-11", 25063, 17800 ],
    ["2024-03-12", 22564, 18872 ],
    ["2024-03-13", 23370, 13379 ],
    ["2024-03-14", 19943, 17327 ],
    ["2024-03-15", 17246, 16958 ],
    ["2024-03-16", 18853, 20032 ],
    ["2024-03-17", 17181, 18475 ],
    ["2024-03-18", 15002, 17625 ],
    ["2024-03-19", 17609, 17228 ],
    ["2024-03-20", 17730, 15579 ],
    ["2024-03-21", 18383, 13454 ],
    ["2024-03-22", 15591, 18451 ],
    ["2024-03-23", 19165, 15521 ],
    ["2024-03-24", 22903, 18778 ],
    ["2024-03-25", 15542, 19060 ],
    ["2024-03-26", 22329, 16502 ],
    ["2024-03-27", 20088, 16236 ],
    ["2024-03-28", 19152, 18653 ],
    ["2024-03-29", 22715, 17856 ],
    ["2024-03-30", 18417, 11919 ],
    ["2024-03-31", 15773, 13582 ],
    ["2024-04-01", 17603, 20244 ],
    ["2024-04-02", 18018, 21588 ],
    ["2024-04-03", 17143, 18171 ],
    ["2024-04-04", 18920, 14199 ],
    ["2024-04-05", 18417, 17372 ],
    ["2024-04-06", 18056, 13419 ],
    ["2024-04-07", 17257, 14731 ],
    ["2024-04-08", 15881, 14206 ],
    ["2024-04-09", 13730, 15098 ],
    ["2024-04-10", 17225, 15033 ],
    ["2024-04-11", 14952, 16454 ],
    ["2024-04-12", 16173, 14608 ],
    ["2024-04-13", 15378, 16831 ],
    ["2024-04-14", 12906, 14619 ],
    ["2024-04-15", 11397, 10037 ],
    ["2024-04-16", 12802, 7304 ],
    ["2024-04-17", 15972, 11196 ],
    ["2024-04-18", 12661, 14587 ],
    ["2024-04-19", 14844, 10645 ],
    ["2024-04-20", 11153, 10216 ],
    ["2024-04-21", 12082, 8353 ],
    ["2024-04-22", 14010, 11811 ],
    ["2024-04-23", 12719, 8260 ],
    ["2024-04-24", 10711, 8789 ],
    ["2024-04-25", 13902, 10210 ],
    ["2024-04-26", 14472, 6569 ],
    ["2024-04-27", 8382, 10235 ],
    ["2024-04-28", 9139, 6589 ],
    ["2024-04-29", 9646, 7614 ],
    ["2024-04-30", 12029, 6827 ],
    ["2024-05-01", 11608, 9208 ],
    ["2024-05-02", 12020, 9509 ],
    ["2024-05-03", 11544, 9489 ],
    ["2024-05-04", 12027, 6767 ],
    ["2024-05-05", 12697, 10545 ],
    ["2024-05-06", 11982, 8923 ],
    ["2024-05-07", 8053, 6830 ],
    ["2024-05-08", 8499, 7655 ],
    ["2024-05-09", 6840, 7142 ],
    ["2024-05-10", 11640, 11081 ],
    ["2024-05-11", 10479, 6843 ],
    ["2024-05-12", 9076, 5255 ],
    ["2024-05-13", 8950, 3992 ],
    ["2024-05-14", 6360, 5178 ],
    ["2024-05-15", 10725, 4622 ],
    ["2024-05-16", 6804, 7534 ],
    ["2024-05-17", 8475, 7036 ],
    ["2024-05-18", 9097, 6886 ],
    ["2024-05-19", 10417, 5371 ],
    ["2024-05-20", 8261, 4657 ],
    ["2024-05-21", 6181, 4643 ],
    ["2024-05-22", 6095, 4668 ],
    ["2024-05-23", 9353, 4651 ],
    ["2024-05-24", 6897, 4300 ],
    ["2024-05-25", 10424, 5353 ],
    ["2024-05-26", 9036, 3947 ],
    ["2024-05-27", 9437, 5281 ],
    ["2024-05-28", 10253, 2961 ],
    ["2024-05-29", 8538, 3541 ],
    ["2024-05-30", 7056, 3293 ],
    ["2024-05-31", 8713, 2748 ],
    ["2024-06-01", 8136, 1920 ],
    ["2024-06-02", 8532, 4021 ],
    ["2024-06-03", 7377, 2341 ],
    ["2024-06-04", 8972, 2703 ],
    ["2024-06-05", 4221, 1521 ],
    ["2024-06-06", 6828, 2111 ],
    ["2024-06-07", 8409, 2028 ],
    ["2024-06-08", 4358, 2712 ],
    ["2024-06-09", 7539, 2132 ],
    ["2024-06-10", 3816, 2574 ],
    ["2024-06-11", 8459, 2011 ],
    ["2024-06-12", 4619, 2386 ],
    ["2024-06-13", 6625, 1791 ],
    ["2024-06-14", 5116, 1186 ],
    ["2024-06-15", 7885, 1448 ],
    ["2024-06-16", 5131, 2295 ],
    ["2024-06-17", 5909, 2097 ],
    ["2024-06-18", 4515, 2161 ],
    ["2024-06-19", 7625, 2450 ],
    ["2024-06-20", 2287, 2280 ],
    ["2024-06-21", 6534, 2439 ],
    ["2024-06-22", 8830, 2890 ],
    ["2024-06-23", 3697, 1795 ],
    ["2024-06-24", 7826, 1718 ],
    ["2024-06-25", 6973, 1240 ],
    ["2024-06-26", 3546, 1509 ],
    ["2024-06-27", 4063, 1303 ],
    ["2024-06-28", 5180, 1692 ],
    ["2024-06-29", 2686, 2526 ],
    ["2024-06-30", 5141, 1816 ],
    ["2024-07-01", 7624, 2308 ],
    ["2024-07-02", 3457, 2112 ],
    ["2024-07-03", 5600, 305 ],
    ["2024-07-04", 6056, 0 ],
    ["2024-07-05", 4314, 18 ],
    ["2024-07-06", 4765, 20 ],
    ["2024-07-07", 6388, 162 ],
    ["2024-07-08", 3513, 542 ],
    ["2024-07-09", 3985, 688 ],
    ["2024-07-10", 5404, 1784 ],
    ["2024-07-11", 4275, 1400 ],
    ["2024-07-12", 4901, 1193 ],
    ["2024-07-13", 5604, 1959 ],
    ["2024-07-14", 5442, 3509 ],
    ["2024-07-15", 6085, 3313 ],
    ["2024-07-16", 5511, 1616 ],
    ["2024-07-17", 5572, 3026 ],
    ["2024-07-18", 6063, 1609 ],
    ["2024-07-19", 5387, 2131 ],
    ["2024-07-20", 3768, 2619 ],
    ["2024-07-21", 6551, 3933 ],
    ["2024-07-22", 8052, 2906 ],
    ["2024-07-23", 4201, 2862 ],
    ["2024-07-24", 6429, 2782 ],
    ["2024-07-25", 9566, 3342 ],
    ["2024-07-26", 5699, 1793 ],
    ["2024-07-27", 5259, 2364 ],
    ["2024-07-28", 8428, 2253 ],
    ["2024-07-29", 7479, 2357 ],
    ["2024-07-30", 5608, 1797 ],
    ["2024-07-31", 6358, 1567 ],
    ["2024-08-01", 6958, 2364 ],
    ["2024-08-02", 3617, 1409 ],
    ["2024-08-03", 4933, 3188 ],
    ["2024-08-04", 7349, 2603 ],
    ["2024-08-05", 3653, 1976 ],
    ["2024-08-06", 6195, 1947 ],
    ["2024-08-07", 8383, 2241 ],
    ["2024-08-08", 9620, 4850 ], // Mush - 2,609? (4850-2241)
    ["2024-08-09", 4477, 2332 ],
    ["2024-08-10", 5558, 2337 ],
    ["2024-08-11", 5449, 2801 ],
    ["2024-08-12", 6674, 2332 ],
    ["2024-08-13", 2902, 2628 ],
    ["2024-08-14", 3162, 3260 ],
    ["2024-08-15", 6691, 3419 ],
    ["2024-08-16", 4744, 4287 ],
    ["2024-08-17", 4394, 4083 ],
    ["2024-08-18", 6302, 3272 ],
    ["2024-08-19", 2540, 4029 ],
    ["2024-08-20", 2775, 5557 ],
];

$ratio_j = 0.03;
$ratio_m = 0.15;

$radius_j = 8.625;
$radius_m = 8.25;

$wd_j = [0, $ratio_j, $radius_j, 0 ];
$wd_m = [0, $ratio_m, $radius_m, 0 ];


foreach( $wheel_data as $row => $wd ) {
    $wd_j[0] += $wd[1];
    $wd_m[0] += $wd[2];

    $mileage_j = $wd[1] * ( 1 - $ratio_j ) * ( $radius_j * pi() ) / ( 12*5280 );
    $mileage_m = $wd[2] * ( 1 - $ratio_m ) * ( $radius_m * pi() ) / ( 12*5280 );

    // Set Jupiter Mileage
    $wheel_data[$row][3] = $mileage_j;

    // Set Mushroom Mileage
    $wheel_data[$row][4] = $mileage_m;

    $wd_j[3] += $mileage_j;
    $wd_m[3] += $mileage_m;

    // Set Jupiter Steps Cumulative
    $wheel_data[$row][5] = $wd_j[0];
    $wheel_data[$row][7] = $wd_j[3];

    // Set Mushroom Steps Cumulative
    $wheel_data[$row][6] = $wd_m[0];
    $wheel_data[$row][8] = $wd_m[3];

    // Set Jupiter Rolling Average
    $wheel_data[$row][9] = $wd_j[0] / ( $row + 1 );
    $wheel_data[$row][11] = $wd_j[3] / ( $row + 1 );

    // Set Mushroom Rolling Average
    $wheel_data[$row][10] = $wd_m[0] / ( $row + 1 );
    $wheel_data[$row][12] = $wd_m[3] / ( $row + 1 );
}